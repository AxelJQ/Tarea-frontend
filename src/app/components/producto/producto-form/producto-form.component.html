<form (ngSubmit)="handleAction(frm)" autocomplete="off" #frm="ngForm" class="add-producto-container">
    <h3 class="mb-5 px-5">{{title}}</h3>
    <div class="border-bottom pb-3 mb-3">
      <div class="px-5">
        <label for="nombre" class="form-label mb-2">
          Nombre
        </label>
        <input #nombre="ngModel" type="text" class="form-control" id="nombre" name="nombre" 
          placeholder="Nombre"
          [(ngModel)]="producto.nombre" 
          [ngClass]="{ 
            'is-invalid': nombre.invalid && nombre.touched,
            'is-valid': nombre.valid && nombre.touched
          }" 
          required 
        />
      </div>
    </div>
    <div class="border-bottom pb-3 mb-3 px-5">
      <div class="row">
        <div class="col-6">
          <label for="descripcion" class="form-label mb-2">
            Descripción
          </label>
          <input #descripcion="ngModel" type="text" class="form-control" id="descripcion" name="descripcion" 
            placeholder="Descripción"
            [(ngModel)]="producto.descripcion" 
            [ngClass]="{ 
              'is-invalid': descripcion.invalid && descripcion.touched,
              'is-valid': descripcion.valid && descripcion.touched
            }" 
            required 
          />
        </div>
      </div>
    </div>
    <div class="border-bottom pb-3 mb-3 px-5">
        <div class="row">
          <div class="col-6">
            <label for="precio" class="form-label mb-2">
              Precio
            </label>
            <input #precio="ngModel" type="number" class="form-control" id="precio" name="precio"
              [(ngModel)]="producto.precio" 
              [ngClass]="{ 
                'is-invalid': precio.invalid && precio.touched,
                'is-valid': precio.valid && precio.touched
              }" 
              required 
            />
          </div>
        </div>
      </div>
      <div class="border-bottom pb-3 mb-3 px-5">
        <div class="row">
          <div class="col-6">
            <label for="cantidadStock" class="form-label mb-2">
              Cantidad en Stock
            </label>
            <input #cantidadStock="ngModel" type="number" class="form-control" id="cantidadStock" name="cantidadStock"
              [(ngModel)]="producto.cantidadStock" 
              [ngClass]="{ 
                'is-invalid': cantidadStock.invalid && cantidadStock.touched,
                'is-valid': cantidadStock.valid && cantidadStock.touched
              }" 
              required 
            />
          </div>
        </div>
      </div>
      <div class="border-bottom pb-3 mb-3 px-5">
        <div class="row">
          <div class="col-6">
            <label for="categoria" class="form-label mb-2">
              Categoría
            </label>
            <input #categoria="ngModel" type="number" class="form-control" id="categoria" name="categoria"
              [(ngModel)]="producto.categoria.id"
              [ngClass]="{ 
                'is-invalid': categoria.invalid && categoria.touched,
                'is-valid': categoria.valid && categoria.touched
              }" 
              required 
            />
          </div>
        </div>
      </div>
    <div class="pb-3 mb-3 d-flex justify-content-center align-items-center">
      <button
        type="submit"
        class="btn btn-primary d-flex align-items-center">
        <i class="fa-solid white me-2"
          [ngClass]="{'fa-plus': action == 'add', 'fa-pencil':  action == 'edit'}"
        ></i>
        <p class="mb-0"> {{title}} </p>
      </button>
    </div>
    <div class="d-flex justify-content-center align-items-center">
      @if(feedbackMessage.message) {
        <p class="pb-0" [ngClass]="{
          'text-danger': feedbackMessage.type == 'ERROR',
          'text-success': feedbackMessage.type == 'SUCCESS'
          }">{{feedbackMessage.message}}</p>
      }
    </div>
  </form>